对于包含n个数的输入数组来说，快速排序时一种最坏情况时间复杂度为![](https://raw.githubusercontent.com/937447974/Blog/master/Resources/2015111602.png),


| index | first、i |  |   |   | end |
| :-- | :-- | :--- | :--- | :--- | :--- |
|     |  2  |   7  |  8   |    1 |    4 |

| index、first | i|  |  | end |
| :-- | :--- | :--- | :--- | :--- |
|  2  |   7  |  8   |    1 |    4 |

|first | index |  | i | end |
| :-- | :--- | :--- | :--- | :--- |
|  2  |   1  |  8   |    7 |    4 |

|first |     | index |   i | end |
| :-- | :--- | :--- | :--- | :--- |
|  2  |   1  |  4   |    7 |    8 |


**堆排序(HeapSort)**，与归并排序一样，但不同于插入排序的是，堆排序的时间复杂度是O(nlgn)，空间复杂度是O(n)。而与插入排序相同，但不同于归并排序的是，堆排序同样具有空间原址性：任何时候都只需要常数个额外的元素空间存储临时数据。

堆排序引入的算法设计技巧：使用一种我们称为“堆”的数据结构来进行信息管理。堆不仅用于堆排序中，而且它也可以构造一种有效的优先队列。

虽然“堆”这一词源自堆排序，但是目前它已经被引申为“垃圾收集存储机制”，例如在Java和Lisp语言中所定义的。强调一下，这里使用的堆不是垃圾收集存储，而是堆数据结构。

#1 堆

##1.1 堆的定义

（二叉）堆是一个数组，它可以被看成一个近似的完成二叉树。树上的每一个结点对应数组的一个元素。除了最底层外，该树是完全充满的，而且是从左向右填充。表示堆的数组A两个属性：A.length表示给出元素的个数，heapSize表示有多少个堆元素存储在该数组中。也就是说，虽然A[0..A.length-1]可能存有数据，但只有A[0..A.heapSize]中存放的是堆的有效元素，这里，

**0 <= A.heapSize <= A.length**

**树的根节点是A[0]**

![](https://raw.githubusercontent.com/937447974/Blog/master/Resources/2015111601.gif)
 

#5 测试

##5.1 测试代码

``` swift
// 快速排序测试
let quickSort = QuickSort()
quickSort.list.append(0)
for(var i = 10; i > 0; i--){
    quickSort.list.append(i)
}
quickSort.quickSort()
print("快速排序:\(quickSort.list)")


// 速度测试，使用最坏情况测试，也就是原数组为倒序
let count = 10000 // 要排序的元素个数
var source = Array<Int>()
for(var i = count; i > 0; i--){
    source.append(i)
}
print("快排速度测试,总数：\(count)")

// 快速排序
var date = NSDate()
quickSort.list = source
quickSort.quickSort()
print("快速排序耗时:\(-date.timeIntervalSinceNow)")

// 随机快速排序
date = NSDate()
quickSort.list = source
quickSort.radomQuickSort()
print("随机快速排序耗时:\(-date.timeIntervalSinceDate(NSDate()))")

// 多线程快速排序
date = NSDate()
quickSort.list = source
quickSort.threadQuickSort()
print("多线程快速排序耗时:\(-date.timeIntervalSinceNow)")
```

##5.2 结果

```
快速排序:[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
快排速度测试,总数：10000
快速排序耗时:2.01945704221725
随机快速排序耗时:0.0124430060386658
多线程快速排序耗时:0.000885963439941406
```

&#160;

----------

#其他

##源代码

https://github.com/937447974/Algorithms

##参考资料

算法导论

##文档修改记录

| 时间 | 描述 |
| ---- | ---- |
| 2015-11-16 | 算法项目完成、博文完成 |

##版权所有

CSDN：http://blog.csdn.net/y550918116j

GitHub：https://github.com/937447974/Blog